<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live TV Pro - Full Perfect</title>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<style>
:root { --primary:#00e5ff; --bg:#0a0a0a; --card:#1a1a1a; --focus:#00e5ff; --star:#ffd700; --accent:#ff4081; }

body{
  margin:0;font-family:sans-serif;background:var(--bg);color:#eee;
  display:flex;flex-direction:column;min-height:100vh;overflow-x:hidden;
}

#player{width:100%;aspect-ratio:16/9;background:black;position:sticky;top:0;z-index:1000;}
video{width:100%;height:100%;}

header{padding:10px;background:#111;border-bottom:1px solid #222;}
.top-bar{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;}

.brand-area h2{margin:0;font-size:18px;color:var(--focus);}
.download-link{font-size:10px;color:var(--accent);font-weight:bold;text-decoration:none;}

.controls{display:flex;gap:8px;margin-top:5px;}
input{background:#222;border:1px solid #444;color:#fff;padding:10px;border-radius:5px;flex:1;}
.btn{padding:8px 12px;border-radius:5px;background:#333;color:#fff;border:none;font-weight:bold;}
.btn.active{background:var(--accent);}

#content-area{flex:1;padding:10px;}
#channelList{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(105px,1fr));
  gap:12px;
}

.channel-card{
  background:var(--card);border-radius:10px;padding:10px;
  text-align:center;cursor:pointer;position:relative;
}
.channel-logo{width:100%;height:50px;object-fit:contain;}
.channel-name{font-size:12px;margin-top:6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}

.dev-footer{
  padding:20px;text-align:center;background:#0f0f0f;border-top:1px solid #222;
}

/* ===== ADS STYLE ===== */
#nativeAdWrap{
  position:relative;
  margin:15px auto;
  max-width:360px;
}
#nativeAdWrap span,
#socialAdWrap span{
  position:absolute;
  top:-10px;right:-10px;
  background:#000;color:#fff;
  width:22px;height:22px;
  border-radius:50%;
  font-size:14px;line-height:22px;
  text-align:center;cursor:pointer;z-index:9999;
}

#socialAdWrap{
  position:fixed;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
  z-index:9999;
}
</style>
</head>

<body>

<div id="player">
  <video id="video" controls autoplay playsinline></video>
</div>

<div id="side-nav">
<header>
  <div class="top-bar">
    <div class="brand-area">
      <h2>ðŸ“º LIVE TV PRO</h2>
      <a class="download-link" href="#">Download App ðŸ“¥</a>
    </div>
    <span id="count">Loading...</span>
  </div>

  <div class="controls">
    <input id="search" placeholder="à¦¸à¦¾à¦°à§à¦š à¦•à¦°à§à¦¨...">
    <button class="btn" id="favFilterBtn" onclick="toggleFavFilter()">â˜…</button>
  </div>
</header>

<div id="content-area">

<!-- ===== Native Banner Ad ===== -->
<div id="nativeAdWrap">
  <span onclick="closeNativeAd()">âœ•</span>
  <script async data-cfasync="false"
    src="https://pl28547132.effectivegatecpm.com/2f32b7d9a50d33e0e7a4484b6a4dcb18/invoke.js"></script>
  <div id="container-2f32b7d9a50d33e0e7a4484b6a4dcb18"></div>
</div>
<!-- ===== Native Banner END ===== -->

<div id="channelList"></div>
</div>

<div class="dev-footer">
  <div>Developed by <b>SOHEL TANVER</b></div>
</div>
</div>

<!-- ===== Social Bar Ad ===== -->
<div id="socialAdWrap">
  <span onclick="closeSocialAd()">âœ•</span>
  <script src="https://pl28548409.effectivegatecpm.com/88/59/b8/8859b87f27788aaf3cb337acab2ad812.js"></script>
</div>

<!-- ===== Popunder Ad ===== -->
<script src="https://pl28543701.effectivegatecpm.com/e6/4e/69/e64e696f8534324fddc71554f749e867.js"></script>

<script>
const playlistUrl="https://raw.githubusercontent.com/soheltanver85-a11y/Live-tv/main/Live%20tv";
let allChannels=[],favorites=[],hls=null;

async function init(){
 const res=await fetch(playlistUrl);
 const txt=await res.text();
 allChannels=parseM3U(txt);
 render(allChannels);
 play(0);
}

function parseM3U(data){
 const lines=data.split("\n"),list=[];let cur={};
 lines.forEach(l=>{
  if(l.startsWith("#EXTINF")){
   cur.name=l.split(",")[1];
  }else if(l.startsWith("http")){
   cur.url=l;list.push({...cur});cur={};
  }
 });
 return list;
}

function render(list){
 document.getElementById("channelList").innerHTML=
 list.map((c,i)=>`
 <div class="channel-card" onclick="play(${i})">
   <div class="channel-name">${c.name}</div>
 </div>`).join("");
 document.getElementById("count").innerText=list.length+" CH";
}

function play(i){
 if(hls)hls.destroy();
 if(Hls.isSupported()){
  hls=new Hls();
  hls.loadSource(allChannels[i].url);
  hls.attachMedia(video);
 }
}

function closeNativeAd(){
 document.getElementById("nativeAdWrap").style.display="none";
}
function closeSocialAd(){
 document.getElementById("socialAdWrap").style.display="none";
}

init();
</script>

</body>
</html>
